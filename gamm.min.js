function Gamm(args){if(this.template="wew",this.element=null,this.template_id="",this.template="",this.compiled_template="",this.data={},this.gamm_events={},this.options=[],this.stored_events={},this.compiled_events={},this.load=null,this.textareas={},this.properties={},this.gamm_element_and_events={},this.make_template_id=function(){for(var result="",characters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",charactersLength=characters.length,i=0;i<10;i++)result+=characters.charAt(Math.floor(Math.random()*charactersLength));window.GAMM_IDS.indexOf(result)>-1?this.make_template_id():(this.template_id=result,window.GAMM_IDS[window.GAMM_IDS.length]=result)},this.convert_to_html=function(){var parser,doc=(new DOMParser).parseFromString(this.template,"text/html");this.template=doc.body.innerHTML},this.convert_to_text=function(str){var parser,doc,text;return(new DOMParser).parseFromString(this.template,"text/html").body.innerText},this.init_element=function(){null!==this.load&&this.load.call(this),this.compile_codes(),this.compile_events(),this.compile_datas();try{document.querySelector(this.element).innerHTML="<div id='"+this.template_id+"'>"+this.compiled_template+"</div>"}catch(gamm_html_error){this.template=""}this.distribute_events(),this.compile_models()},this.insert_to=function(selector){null!==this.load&&this.load.call(this),this.compile_codes(),this.compile_events(),this.compile_datas();try{document.querySelector(selector).innerHTML="<div id='"+this.template_id+"'>"+this.compiled_template+"</div>"}catch(gamm_html_error){this.template=""}this.distribute_events(),this.compile_models()},this.compile_codes=function(){try{this.compiled_template=this.template;var gamm_start_identifier="&lt;#gamm",gamm_end_identifier="#&gt;",gamm_el_codes=this.parse_data(this.compiled_template,gamm_start_identifier,gamm_end_identifier),gamm_temp_code="",final_code_compiled="",gamm_final_code="",gamm_lt_tag_string=new RegExp("&lt;","g"),gamm_gt_tag_string=new RegExp("&gt;","g"),gamm_ampersand_string=new RegExp("&amp;","g"),gamm_double_quotes=new RegExp('"',"g"),gamm_start_brackets=new RegExp("{{","g"),gamm_end_brackets=new RegExp("}}","g");function gamm_echo(str){gamm_final_code+=str}function tag(str){gamm_final_code+="<"+str+">"}function $(str){gamm_final_code+="<"+str+">"}function $$(str){gamm_final_code+="</"+str+">"}for(;gamm_el_codes.length>0;)try{gamm_temp_code=gamm_el_codes[0],gamm_temp_code=gamm_temp_code.replace(gamm_double_quotes,'\\"');for(var start_lt_tag=!1,i=0;i<gamm_temp_code.length;i++){var str_1=gamm_temp_code[i];"<"==str_1&&0==start_lt_tag?(final_code_compiled+=' gamm_echo("'+str_1,start_lt_tag=!0):1==start_lt_tag&&"\n"==str_1?(final_code_compiled+='");'+str_1,start_lt_tag=!1):final_code_compiled+=str_1}for(var tags_with_brackets_compile=this.parse_data(final_code_compiled,"<",">");tags_with_brackets_compile.length>0;){var replacement_string="&lt;"+tags_with_brackets_compile[0].replace(gamm_start_brackets,'" + ').replace(gamm_end_brackets,' + "')+"&gt;";final_code_compiled=final_code_compiled.replace("<"+tags_with_brackets_compile[0]+">",replacement_string),tags_with_brackets_compile=this.parse_data(final_code_compiled,"<",">")}final_code_compiled=final_code_compiled.replace(gamm_lt_tag_string,"<").replace(gamm_gt_tag_string,">").replace(gamm_ampersand_string,"&").replace(gamm_start_brackets,"gamm_echo(").replace(gamm_end_brackets,");"),eval(final_code_compiled),this.compiled_template=this.compiled_template.replace(gamm_start_identifier+gamm_el_codes[0]+gamm_end_identifier,gamm_final_code),gamm_el_codes=this.parse_data(this.compiled_template,gamm_start_identifier,gamm_end_identifier)}catch(gamm_code_error){console.log("ERROR CODE: "+gamm_code_error),this.compiled_template=this.compiled_template.replace(gamm_start_identifier+gamm_el_codes[0]+gamm_end_identifier,"[object-undefined]"),gamm_el_codes=this.parse_data(this.compiled_template,gamm_start_identifier,gamm_end_identifier)}}catch(gamm_codes_error){console.log("ERROR CODES: "+gamm_codes_error)}},this.compile_events=function(){try{var gamm_el_events="";gamm_el_events=this.parse_data(this.compiled_template,'gamm-events="','"');for(var gamm_el_events_counter=0,quote_regex=new RegExp("'","g");gamm_el_events.length>0;)try{var gamm_events="";gamm_events=JSON.parse(gamm_el_events[0].replace(quote_regex,'"'));var gamm_temp_data="";for(var gamm_key in gamm_events){try{var gamm_temp_element_attribute="data-gamm_"+gamm_key+'="'+this.template_id+"_"+gamm_el_events_counter+'"',gamm_temp_element_attribute_key="data_gamm_"+gamm_key+"_"+this.template_id+"_"+gamm_el_events_counter;gamm_temp_data+=gamm_temp_element_attribute+" ",this.gamm_element_and_events[gamm_temp_element_attribute_key]={element:"["+gamm_temp_element_attribute+"]",event:gamm_events[gamm_key],on:gamm_key}}catch(gamm_event_error){console.log("ERROR EVENT: "+gamm_event_error)}gamm_el_events_counter++}this.compiled_template=this.compiled_template.replace('gamm-events="'+gamm_el_events[0]+'"',gamm_temp_data),gamm_el_events=this.parse_data(this.compiled_template,'gamm-events="','"')}catch(gamm_err){console.log(gamm_err),this.compiled_template=this.compiled_template.replace('gamm-events="'+gamm_el_events[0]+'"',"data-gamm='"+gamm_err+"'"),gamm_el_events=this.parse_data(this.compiled_template,'gamm-events="','"')}}catch(gamm_err){console.log(gamm_err)}},this.compile_datas=function(){try{for(var gamm_el_global_datas=this.parse_data(this.compiled_template,"{{$","}}");gamm_el_global_datas.length>0;)try{this.compiled_template=this.compiled_template.replace("{{$"+gamm_el_global_datas[0]+"}}",eval(gamm_el_global_datas[0])),gamm_el_global_datas=this.parse_data(this.compiled_template,"{{$","}}")}catch(gamm_data_error){console.log("ERROR DATA: "+gamm_data_error),this.compiled_template=this.compiled_template.replace("{{$"+gamm_el_global_datas[0]+"}}","[object-undefined]"),gamm_el_global_datas=this.parse_data(this.compiled_template,"{{$","}}")}}catch(gamm_datas_error){console.log("ERROR GLOBAL DATA: "+gamm_datas_error)}try{for(var gamm_el_datas=this.parse_data(this.compiled_template,"{{","}}");gamm_el_datas.length>0;)try{this.compiled_template=this.compiled_template.replace("{{"+gamm_el_datas[0]+"}}",eval("this.data."+gamm_el_datas[0])),gamm_el_datas=this.parse_data(this.compiled_template,"{{","}}")}catch(gamm_data_error){console.log("ERROR DATA: "+gamm_data_error),this.compiled_template=this.compiled_template.replace("{{"+gamm_el_datas[0]+"}}","[object-undefined]"),gamm_el_datas=this.parse_data(this.compiled_template,"{{","}}")}}catch(gamm_datas_error){console.log("ERROR DATA: "+gamm_datas_error)}},this.distribute_events=function(){var $this=this;try{for(var index in this.gamm_element_and_events)eval("document.querySelector('"+this.gamm_element_and_events[index].element+"').on"+this.gamm_element_and_events[index].on+" = function($event){ \t\t\t\t\t\t$this.gamm_events."+this.gamm_element_and_events[index].event+".call($this,this,$event); \t\t\t\t\t\tif($this.element != null){ \t\t\t\t\t\t\t$this.init_element.call($this); \t\t\t\t\t\t}else{ \t\t\t\t\t\t\t$this.reload.call($this); \t\t\t\t\t\t} \t\t\t\t\t};")}catch(gamm_events_error){console.log("ERROR EVENT: "+gamm_events_error)}},this.compile_models=function(){try{for(var $this=this,gamm_models=document.querySelectorAll("#"+this.template_id+" [name]"),i=0;i<gamm_models.length;i++){var gamm_value="",gamm_model=gamm_models[i];if(gamm_value=eval("this.data."+gamm_model.name),"INPUT"!=gamm_model.tagName||"radio"!=gamm_model.type&&"checkbox"!=gamm_model.type)gamm_model.value=gamm_value;else if("checkbox"==gamm_model.type||"radio"==gamm_model.type)for(var boxes=document.querySelectorAll("#"+this.template_id+" [name='"+gamm_model.name+"']"),j=0;j<boxes.length;j++)gamm_value.indexOf(boxes[j].value)>-1?boxes[j].checked=!0:boxes[j].checked=!1;try{"TEXTAREA"==gamm_model.tagName&&void 0!==this.textareas[gamm_model.name]&&(document.querySelectorAll("[name='"+gamm_model.name+"']")[0].style.width=this.textareas[gamm_model.name].width,document.querySelectorAll("[name='"+gamm_model.name+"']")[0].style.height=this.textareas[gamm_model.name].height)}catch(ta_init_error){console.log(ta_init_error)}"TEXTAREA"==gamm_model.tagName&&(gamm_model.onmouseup=function(){void 0===$this.textareas[this.name]&&($this.textareas[this.name]={width:this.style.width,height:this.style.height}),this.style.width==$this.textareas[this.name].width&&this.style.height==$this.textareas[this.name].height||($this.textareas[this.name].height=this.style.height,$this.textareas[this.name].width=this.style.width)}),gamm_model.onkeyup=function(){for(var similiar_elems=document.querySelectorAll("#"+$this.template_id+" [name='"+this.name+"']"),index_elem=0,gamm_data=eval("$this.data."+this.name),elem_i=0;elem_i<similiar_elems.length;elem_i++)this==similiar_elems[i]&&(index_elem=i);if("radio"==this.type||"checkbox"==this.type){if("radio"==this.type)this.checked&&eval("$this.data."+this.name+" = this.value;");else if(this.checked)gamm_data.indexOf(this.value)<0&&eval("$this.data."+this.name+".push(this.value);");else{var index=gamm_data.indexOf(this.value);eval("$this.data."+this.name+".splice(index,1);")}$this.reload.call($this),$this.focus(document.querySelectorAll("#"+$this.template_id+" [name='"+this.name+"']")[index_elem])}else this.value!=gamm_data&&(eval("$this.data."+this.name+"= this.value;"),$this.reload.call($this),$this.focus(document.querySelectorAll("#"+$this.template_id+" [name='"+this.name+"']")[index_elem]))},gamm_model.onchange=function(){for(var similiar_elems=document.querySelectorAll("#"+$this.template_id+" [name='"+this.name+"']"),index_elem=0,gamm_data=eval("$this.data."+this.name),elem_i=0;elem_i<similiar_elems.length;elem_i++)this==similiar_elems[i]&&(index_elem=i);if("radio"==this.type||"checkbox"==this.type){if("radio"==this.type)this.checked&&eval("$this.data."+this.name+" = this.value;");else if(this.checked)gamm_data.indexOf(this.value)<0&&eval("$this.data."+this.name+".push(this.value);");else{var index=gamm_data.indexOf(this.value);eval("$this.data."+this.name+".splice(index,1);")}$this.reload.call($this),$this.focus(document.querySelectorAll("#"+$this.template_id+" [name='"+this.name+"']")[index_elem])}else this.value!=gamm_data&&(eval("$this.data."+this.name+"= this.value;"),$this.reload.call($this),$this.focus(document.querySelectorAll("#"+$this.template_id+" [name='"+this.name+"']")[index_elem]))}}}catch(gamm_models_error){console.log(gamm_models_error)}},this.parse_data=function($data,$first_pattern,$second_pattern){for(var $length=$data.length,$return_data=[],$ctr=0,$length1=$first_pattern.length,$length2=$second_pattern.length,$i=0;$i<$length;$i++){var $str1;if(0!=$length1)if($data.substr($i,$length1)==$first_pattern)for(var $ctr_length=0,$j=$i+$length1;$j<$length;$j++){var $str2;if($ctr_length++,$j<$length)if($data.substr($j,$length2)==$second_pattern){var $data_value=$data.substr($i+$length1,$ctr_length-1);$return_data[$ctr]=$data_value,$ctr++,$i=$i+$length1+($ctr_length-1),$j=$length}}}return $return_data},this.read_template=function(path,method){var xhttp=null,data="";return void 0===method&&(method="GET"),(xhttp=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){4==this.readyState&&200==this.status&&(data=xhttp.responseText)},xhttp.open(method,path,!1),xhttp.send(),data},this.prepend_to=function(selector){null!==this.load&&this.load.call(this),this.compile_codes(),this.compile_events(),this.compile_datas();try{var template_div=document.createElement("div");template_div.id=this.template_id,template_div.innerHTML=this.compiled_template,document.querySelector(selector).prepend(template_div)}catch(gamm_html_error){this.template=""}this.distribute_events(),this.compile_models()},this.append_to=function(selector){null!==this.load&&this.load.call(this),this.compile_codes(),this.compile_events(),this.compile_datas();try{var template_div=document.createElement("div");template_div.id=this.template_id,template_div.innerHTML=this.compiled_template,document.querySelector(selector).append(template_div)}catch(gamm_html_error){this.template=""}this.distribute_events(),this.compile_models()},this.init_element=function(){null!==this.load&&this.load.call(this),this.compile_codes(),this.compile_events(),this.compile_datas();try{document.querySelector(this.element).innerHTML="<div id='"+this.template_id+"'>"+this.compiled_template+"</div>"}catch(gamm_html_error){this.template=""}this.distribute_events(),this.compile_models()},this.reload=function(){null!==this.load&&this.load.call(this),this.compile_codes(),this.compile_events(),this.compile_datas(),document.querySelector("#"+this.template_id).innerHTML=this.compiled_template,this.distribute_events(),this.compile_models()},this.get_data=function(){return"<div id='"+this.template_id+"'>"+this.compiled_template+"</div>"},this.other=function($class,$data,$value){eval("$class."+$data+" = $value"),$class.reload.call($class)},this.focus=function(element){var eventType="onfocusin"in element?"focusin":"focus",bubbles="onfocusin"in element,event;"createEvent"in document?(event=document.createEvent("Event")).initEvent(eventType,bubbles,!0):"Event"in window&&(event=new Event(eventType,{bubbles:bubbles,cancelable:!0})),element.focus(),element.dispatchEvent(event)},this.q=function($query){function gamm_elment($query){var $index=null,$d=null;if("string"==typeof $query)if($query.indexOf(":index(")>0){var $q_str=$query.split(":index(");$index=$q_str[1].replace(")",""),$d=document.querySelectorAll($q_str[0])}else $d=document.querySelectorAll($query);else $d=$query;return this.size=$d.length,this.on=function($event,$func){if(null!=$index)eval("$d[$index].on"+$event+" = $func;");else if($d.length>0)for(var $i=0;$i<$d.length;$i++)eval("$d[$i].on"+$event+" = $func;");else eval("$d.on"+$event+" = $func;")},this.prop=function($prop,$val){if(void 0===$val){var $return_value="";if(null!=$index)eval("$return_value = $d[$index]."+$prop+";");else if($d.length>0)for(var $i=0;$i<$d.length;$i++)eval("$return_value = $d[$i]."+$prop+";");else eval("$return_value = $d."+$prop+";");return $return_value}if(null!=$index)eval("$d[$index]."+$prop+" = $val;");else if($d.length>0)for(var $i=0;$i<$d.length;$i++)eval("$d[$i]."+$prop+" = $val;");else eval("$d."+$prop+" = $val;")},this.html=function($val){if(void 0===$val){var $return_value="";if(null!=$index)eval("$return_value = $d[$index].innerHTML;");else if($d.length>0)for(var $i=0;$i<$d.length;$i++)eval("$return_value = $d[$i].innerHTML;");else eval("$return_value = $d.innerHTML;");return $return_value}if(null!=$index)eval("$d[$index].innerHTML = $val;");else if($d.length>0)for(var $i=0;$i<$d.length;$i++)eval("$d[$i].innerHTML = $val;");else eval("$d.innerHTML = $val;")},this.text=function($val){if(void 0===$val){var $return_value="";if(null!=$index)eval("$return_value = $d[$index].innerText;");else if($d.length>0)for(var $i=0;$i<$d.length;$i++)eval("$return_value = $d[$i].innerText;");else eval("$return_value = $d.innerText;");return $return_value}if(null!=$index)eval("$d[$index].innerText = $val;");else if($d.length>0)for(var $i=0;$i<$d.length;$i++)eval("$d[$i].innerText = $val;");else eval("$d.innerText = $val;")},this.val=function($val){if(void 0===$val){var $return_value="";if(null!=$index)eval("$return_value = $d[$index].value;");else if($d.length>0)for(var $i=0;$i<$d.length;$i++)eval("$return_value = $d[$i].value;");else eval("$return_value = $d.value;");return $return_value}if(null!=$index)eval("$d[$index].value = $val;");else if($d.length>0)for(var $i=0;$i<$d.length;$i++)eval("$d[$i].value = $val;");else eval("$d.value = $val;")},this.attr=function($attr,$val){if(void 0===$val){var $return_value="";if(null!=$index)eval("$return_value = $d[$index].getAttribute($attr);");else if($d.length>0)for(var $i=0;$i<$d.length;$i++)eval("$return_value = $d[$i].getAttribute($attr);");else eval("$return_value = $d.getAttribute($attr);");return $return_value}if(null!=$index)eval("$d[$index].setAttribute($attr,$val);");else if($d.length>0)for(var $i=0;$i<$d.length;$i++)eval("$d[$i].setAttribute($attr,$val)");else eval("$d.setAttribute($attr,$val);")},this.data=function($data,$val){if(void 0===$val){var $return_value="";if(null!=$index)eval("$return_value = $d[$index].getAttribute('data-' + $data);");else if($d.length>0)for(var $i=0;$i<$d.length;$i++)eval("$return_value = $d[$i].getAttribute('data-' + $data);");else eval("$return_value = $d.getAttribute('data-' + $data);");return $return_value}if(null!=$index)eval("$d[$index].setAttribute('data-' + $data,$val);");else if($d.length>0)for(var $i=0;$i<$d.length;$i++)eval("$d[$i].setAttribute('data-' + $data,$val)");else eval("$d.setAttribute('data-' + $data,$val);")},this.element=$d,this}return new gamm_elment($query)},void 0!==args){if(void 0!==args.element){try{this.template=document.querySelectorAll(args.element)[0].innerHTML}catch(gamm_html_error){this.template=""}this.element=args.element,this.convert_to_html()}else void 0!==args.file?(this.template=this.read_template(args.file),this.convert_to_html()):(this.template=args.template,this.convert_to_html());void 0!==args.data&&(this.data=args.data),void 0!==args.events&&(this.gamm_events=args.events),this.make_template_id(),null!=this.element&&this.init_element()}return this.http={post:function(url,options){var method="POST",path=url,async_bool=!1,xhttp=null,data="",params="";if(void 0!==options.async&&(async_bool=options.async),void 0!==options.data)if("object"==typeof options.data){for(var k in options.data)params+=k+"="+encodeURI(options.data[k])+"&";params=params.substring(0,params.length-1)}else params=options.data;(xhttp=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){4==this.readyState&&200==this.status?(async_bool||(data=xhttp),void 0!==options.success&&options.success(xhttp)):4==this.readyState&&200!=this.status&&void 0!==options.error&&options.error(xhttp)},xhttp.open("POST",path,async_bool);var has_content_type=!1;if(void 0!==options.headers)for(var k in options.headers)xhttp.setRequestHeader(k,options.headers[k]),k.toLowerCase().indexOf("content-type")>-1&&0==has_content_type&&(has_content_type=!0);if(void 0!==options.data?(has_content_type||xhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xhttp.send(params)):xhttp.send(),!async_bool)return data},get:function(url,options){var method="GET",path=url,async_bool=!1,xhttp=null,data="",params="";if(void 0!==options.async&&(async_bool=options.async),void 0!==options.data)if("object"==typeof options.data){for(var k in options.data)params+=k+"="+encodeURI(options.data[k])+"&";params=params.substring(0,params.length-1)}else params=options.data;(xhttp=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){4==this.readyState&&200==this.status?(async_bool||(data=xhttp),void 0!==options.success&&options.options(xhttp)):4==this.readyState&&200!=this.status&&void 0!==options.error&&options.error(xhttp)},xhttp.open("GET",path,async_bool);var has_content_type=!1;if(void 0!==options.headers)for(var k in options.headers)xhttp.setRequestHeader(k,options.headers[k]),k.toLowerCase().indexOf("content-type")>-1&&0==has_content_type&&(has_content_type=!0);if(void 0!==options.data?(has_content_type||xhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xhttp.send(params)):xhttp.send(),!async_bool)return data},request:function(url,options){var method="POST",path=url,async_bool=!1,xhttp=null,data="",params="";if(void 0!==options.async&&(async_bool=options.async),void 0!==options.method&&(method=options.method),void 0!==options.data)if("object"==typeof options.data){for(var k in options.data)params+=k+"="+encodeURI(options.data[k])+"&";params=params.substring(0,params.length-1)}else params=options.data;(xhttp=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){4==this.readyState&&200==this.status?(async_bool||(data=xhttp),void 0!==options.success&&options.success(xhttp)):4==this.readyState&&200!=this.status&&void 0!==options.error&&options.error(xhttp)},xhttp.open(method,path,async_bool);var has_content_type=!1;if(void 0!==options.headers)for(var k in options.headers)xhttp.setRequestHeader(k,options.headers[k]),k.toLowerCase().indexOf("content-type")>-1&&0==has_content_type&&(has_content_type=!0);if(void 0!==options.data?(has_content_type||xhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xhttp.send(params)):xhttp.send(),!async_bool)return data}},this}window.GAMM_IDS=[];